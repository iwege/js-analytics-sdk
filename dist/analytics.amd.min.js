define(function(){return function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n["default"]=e,n}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),u=t(1),s=r(u),l=t(2),d=r(l),c=t(!function(){var e=new Error('Cannot find module "./createAnalytics"');throw e.code="MODULE_NOT_FOUND",e}()),f=o(c),p="0.0.1",w=function(){function e(n){if(a(this,e),"object"!=typeof n)throw"LeanAnalytics need a argument at least.";if(!n.appId)throw"Options must have appId.";if(!n.appKey)throw"Options must have appKey.";var t=n.localKey;"string"==typeof t&&d.setLocalKey(t);var o=f["default"](n);d.pageView(o),d.sessionView(o),this.send=o.send}return i(e,null,[{key:"_tool",value:s,enumerable:!0},{key:"_engine",value:d,enumerable:!0},{key:"version",value:p,enumerable:!0}]),e}();n["default"]=w,e.exports=n["default"]},function(e,n){"use strict";function t(){return(new Date).getTime().toString(36)+Math.random().toString(36).substring(2,3)}function o(){return""+i+t()+t()+t()}function r(e,n){var t=e.url,o=e.method,r=void 0===o?"get":o,a=e.appId,i=e.appKey,u=e.data,s=new XMLHttpRequest;s.open(r,t),("post"===r||"put"===r)&&s.setRequestHeader("Content-Type","application/json"),a&&s.setRequestHeader("X-AVOSCloud-Application-Id",a),i&&s.setRequestHeader("X-AVOSCloud-Application-Key",i),s.onload=function(e){s.status>=200&&s.status<300?n(null,JSON.parse(s.responseText)):n(JSON.parse(s.responseText))},s.onerror=function(e){n(new Error("Network error"),e)},s.send(JSON.stringify(u))}function a(){return Date.now()}Object.defineProperty(n,"__esModule",{value:!0}),n.getId=o,n.ajax=r,n.now=a;var i="LEAN"},function(e,n,t){"use strict";function o(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n["default"]=e,n}function r(){var e=window.localStorage.getItem(d);return e||(e=l.getId(),window.localStorage.setItem(d,e)),e}function a(e){d=e}function i(e){function n(){r=l.now(),i=window.location.href}function o(){a=l.now(),e.send({event:"_page",duration:a-r,tag:i})}var r=void 0,a=void 0,i=void 0;n(),window.addEventListener("hashchange",function(e){o(),n()}),e.isNW?t(!function(){var e=new Error('Cannot find module "nw.gui"');throw e.code="MODULE_NOT_FOUND",e}()).Window.get().on("close",function(){o()}):window.addEventListener("beforeunload",function(){o()})}function u(e){var n=l.now(),o=function(){var t=l.now();e.send({event:"_session.close",duration:t-n})};e.isNW?t(!function(){var e=new Error('Cannot find module "nw.gui"');throw e.code="MODULE_NOT_FOUND",e}()).Window.get().on("close",o):window.addEventListener("beforeunload",o)}Object.defineProperty(n,"__esModule",{value:!0}),n.getId=r,n.setLocalKey=a,n.pageView=i,n.sessionView=u;var s=t(1),l=o(s),d="leancloud-analytics-id"}])});